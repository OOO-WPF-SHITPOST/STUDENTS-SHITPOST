<Window x:Class="Nedelyaeva.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Учет оценок" Height="600" Width="1000">
    <Grid Margin="10">
        <!-- Login Panel -->
        <StackPanel x:Name="LoginPanel" VerticalAlignment="Top" HorizontalAlignment="Left" Width="350">
            <Label Content="Логин:" />
            <TextBox x:Name="LoginTextBox" />
            <Label Content="Пароль:" Margin="0,10,0,0" />
            <PasswordBox x:Name="PasswordBox" />
            <Button Content="Войти" Width="120" Margin="0,10,0,0" Click="Login_Click" />
        </StackPanel>

        <!-- Teacher Panel -->
        <Grid x:Name="TeacherPanel" Visibility="Collapsed" Margin="370,0,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                <Button Content="Обновить" Click="Teacher_Refresh_Click" Margin="5,0"/>
                <Button Content="Добавить оценку" Click="AddGrade_Click" Margin="5,0"/>
                <Button Content="Изменить оценку" Click="EditGrade_Click" Margin="5,0"/>
                <Button Content="Удалить (soft)" Click="DeleteGrade_Click" Margin="5,0"/>
                <Button Content="Восстановить" Click="RestoreGrade_Click" Margin="5,0"/>
                <Button Content="Выйти" Click="Logout_Click" Margin="5,0"/>
            </StackPanel>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>

                <GroupBox Header="Дисциплины (за которые отвечает преподаватель)" Margin="5">
                    <DataGrid x:Name="SubjectsGrid" AutoGenerateColumns="False" SelectionMode="Single">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="*"/>
                            <DataGridTextColumn Header="Удалён" Binding="{Binding IsDeleted}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>

                <GroupBox Header="Студенты и оценки" Grid.Column="1" Margin="5">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="2*"/>
                            <RowDefinition Height="3*"/>
                        </Grid.RowDefinitions>

                        <DataGrid x:Name="StudentsGrid" Grid.Row="0" AutoGenerateColumns="False" SelectionMode="Single" Margin="0,0,0,5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}" Width="*"/>
                                <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}" Width="*"/>
                                <DataGridTextColumn Header="Группа" Binding="{Binding GroupName}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>

                        <DataGrid x:Name="GradesGrid" Grid.Row="1" AutoGenerateColumns="False" SelectionMode="Single">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                <DataGridTextColumn Header="Студент" Binding="{Binding StudentName}" Width="*"/>
                                <DataGridTextColumn Header="Дисциплина" Binding="{Binding SubjectName}" Width="*"/>
                                <DataGridTextColumn Header="Оценка" Binding="{Binding GradeValue}" Width="80"/>
                                <DataGridTextColumn Header="Дата" Binding="{Binding CreatedAt}" Width="140"/>
                                <DataGridTextColumn Header="Удалён" Binding="{Binding IsDeleted}" Width="80"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </GroupBox>
            </Grid>
        </Grid>

        <!-- Student Panel -->
        <Grid x:Name="StudentPanel" Visibility="Collapsed" Margin="370,0,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                <Button Content="Обновить" Click="Student_Refresh_Click" Margin="5,0"/>
                <Button Content="Выйти" Click="Logout_Click" Margin="5,0"/>
            </StackPanel>

            <GroupBox Header="Мои оценки" Margin="5,40,5,5">
                <DataGrid x:Name="MyGradesGrid" AutoGenerateColumns="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Дисциплина" Binding="{Binding SubjectName}" Width="*"/>
                        <DataGridTextColumn Header="Оценка" Binding="{Binding GradeValue}" Width="80"/>
                        <DataGridTextColumn Header="Дата" Binding="{Binding CreatedAt}" Width="140"/>
                        <DataGridTextColumn Header="Удалён" Binding="{Binding IsDeleted}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>
        </Grid>
    </Grid>
</Window>